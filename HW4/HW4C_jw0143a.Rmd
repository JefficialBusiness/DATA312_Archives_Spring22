---
output:
  pdf_document: default
  
title: "Homework 4C - DATA-312"
author: "Jeffrey Williams"
abstract: "This writeup explores a given cumulative dataset representative of various demographics per state county in the United States. With such a generous array of data, the objective is to perform a series of analyses that speak to potential influential relationships between a combination of categorical and numerical variables. Particularly, such analyses entail modeling "
date: '`r format(Sys.time(), "%d, %B %Y")`'

---



```{r setup, include=FALSE}
rm(list=ls())
gc()

library(tidyverse)
library(modelr)
library(e1071)
library(usmap)

megadata <- read_csv('EduUnempPovPopCovidVoting_StatCrunchV2.csv')

temporary <- megadata %>% mutate(fips = countyFIPS) 

plot_usmap(regions = 'counties', data = temporary, values = 'TOT_POP', 
           include = c('CT','MA','RI'))

# Cleaning / Sorting quantitative from categorical variables
megadata <- megadata %>% mutate(countyFIPS = as.factor(countyFIPS)) %>%
  mutate(StateFIPS = as.factor(StateFIPS)) %>%
  mutate(FIPSnumber = as.factor(FIPSnumber)) %>%
  mutate(Rural.urban_Continuum_Code_2003 = 
           as.factor(Rural.urban_Continuum_Code_2003)) %>%
  mutate(Rural_urban_continuum_code_2013 = 
           as.factor(Rural_urban_continuum_code_2013)) %>%
  mutate(PoliticsGroup = as.factor(PoliticsGroup))

map(megadata, is_numeric)

raw_data_samplingframe <- megadata %>% mutate(snum = sample.int(n(), n()) / n())

training <- raw_data_samplingframe %>% filter(snum < 0.6) %>% select(-snum)

query <- raw_data_samplingframe %>% filter(snum >= 0.6, snum < 0.8) %>% 
  select(-snum)

test <- raw_data_samplingframe %>% filter(snum >= 0.8) %>% select(-snum)

pennsylvania <- training %>% filter(PostalCode == 'PA')

training %>% ggplot(aes(x = PCTPOVALL_2019, y = TOT_POP)) + geom_point()

training %>% ggplot(aes(TOT_POP)) + geom_histogram() + scale_x_log10()

# Gathering quantitative variables
quantitatives <- training %>% select(where(is.numeric))


```
