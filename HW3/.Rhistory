add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'traitor_requiem') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'traitor_requiem') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% count(name, length, time_block) %>%
ggplot(aes(time_block, n, color = name)) + geom_point()
songs_notes_blocks %>% count(name, length, time_block) %>%
ggplot(aes(time_block, n, color = name)) + geom_point()
songs_notes_blocks %>% filter(name == 'bach') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'traitor_requiem') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
new_time_blocks <- 20
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
gurenge <- read_mid("Gurenge_full.mid")
gurenge <- read_mid("Gurenge_full.midi")
gurenge <- read_midi("Gurenge_full.midi")
gurenge <- read_midi("Gurenge_full.mid")
my_songs <- bind_rows(mutate(unravel, name = 'unravel'),
mutate(traitor_requiem, name = 'traitor_requiem'),
mutate(gurenge, name = 'gurenge'))
my_songs_notes <- my_songs %>% filter(!is.na(pitch)) %>%
mutate(as_music_df(pitch), end_time = time + length)
my_songs_lengths <- my_songs_notes %>% group_by(name) %>%
summarize(total_time = max(end_time))
my_total_notes <- my_songs %>% group_by(name) %>%
summarize(total_notes = sum(!is.na(pitch)))
my_total_notes
my_songs_lengths
my_songs_notes <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
inner_join(my_total_notes)
new_time_blocks <- 20
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
# Dividing notes by time for various analysis
time_blocks <- 20
songs_notes_blocks <- songs_notes %>%
mutate(time_block = floor(time_blocks * time/total_time))
# Dividing notes by time for various analysis
time_blocks <- 20
songs_notes_blocks <- songs_notes %>%
mutate(time_block = floor(time_blocks * time/total_time))
songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
songs_notes_blocks %>% filter(name == 'bach') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
songs_notes_blocks %>% count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
songs_notes_blocks %>% filter(name == 'bach') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
# Normalizing
songs_notes_blocks %>% filter(name == 'bach') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
new_time_blocks <- 20
my_songs_notes <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
inner_join(my_total_notes)
my_total_notes
my_songs_lengths
my_songs_notes <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
inner_join(my_total_notes)
new_time_blocks <- 20
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
source("~/DATA312/HW3/HW3C_jw0143a.R")
source("~/DATA312/HW3/HW3C_jw0143a2.R")
# Cleaning workspace and loading libraries
rm(list=ls())
gc()
library(tidyverse)
library(tuneR)
library(tabr)
library(audio)
library(GENEAread)
# Loading MIDI files
bach <- read_midi('bach_846_format0.midi')
edwin_improv <- read_midi('improv.midi')
edwin_improv2 <- read_midi('improv2.midi')
duodecaphonic <- read_midi('justin_rubin_lyric.midi')
# Tidying/consolidating files & gathering specific data
songs <- bind_rows(mutate(bach, name = 'bach'),
mutate(edwin_improv, name = 'edwin_improv'),
mutate(edwin_improv2, name = 'edwin_improv2'),
mutate(duodecaphonic, name = 'duodecaphonic'))
songs_notes <- songs %>% filter(!is.na(pitch)) %>%
mutate(as_music_df(pitch),
end_time = time + length)
song_lengths <- songs_notes %>% group_by(name) %>%
summarize(total_time = max(end_time))
# Experimentation
songs_notes %>% group_by(name) %>% summarize(max(freq))
songs_notes %>% group_by(name) %>% summarize(max(velocity))
# Add note lengths to table
songs_notes <- songs_notes %>% inner_join(song_lengths)
# Dividing notes by time for various analysis
time_blocks <- 20
songs_notes_blocks <- songs_notes %>%
mutate(time_block = floor(time_blocks * time/total_time))
songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
songs_notes_blocks %>% filter(name == 'bach') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
songs_notes_blocks %>% count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
unravel <- read_midi("unravel_tokyo_ghoul.mid")
traitor_requiem <- read_midi("Traitors Requiem (Theishter).midi")
# Cleaning workspace and loading libraries
rm(list=ls())
gc()
library(tidyverse)
library(tuneR)
library(tabr)
library(audio)
library(GENEAread)
unravel <- read_midi("unravel_tokyo_ghoul.mid")
traitor_requiem <- read_midi("Traitors Requiem (Theishter).midi")
gurenge <- read_midi("Gurenge_full.mid")
my_songs <- bind_rows(mutate(unravel, name = 'unravel'),
mutate(traitor_requiem, name = 'traitor_requiem'),
mutate(gurenge, name = 'gurenge'))
my_songs_notes <- my_songs %>% filter(!is.na(pitch)) %>%
mutate(as_music_df(pitch), end_time = time + length)
my_songs_lengths <- my_songs_notes %>% group_by(name) %>%
summarize(total_time = max(end_time))
my_total_notes <- my_songs %>% group_by(name) %>%
summarize(total_notes = sum(!is.na(pitch)))
my_songs_notes <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
inner_join(my_total_notes)
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
my_songs_notes_blocks %>% count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
my_songs_notes <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
inner_join(my_total_notes)
new_time_blocks <- 20
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes <- my_songs %>% filter(!is.na(pitch)) %>%
mutate(as_music_df(pitch), end_time = time + length)
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
my_songs <- bind_rows(mutate(unravel, name = 'unravel'),
mutate(gurenge, name = 'gurenge'))
my_songs_notes <- my_songs %>% filter(!is.na(pitch)) %>%
mutate(as_music_df(pitch), end_time = time + length)
my_songs_lengths <- my_songs_notes %>% group_by(name) %>%
summarize(total_time = max(end_time))
my_total_notes <- my_songs %>% group_by(name) %>%
summarize(total_notes = sum(!is.na(pitch)))
my_songs_notes <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
inner_join(my_total_notes)
new_time_blocks <- 20
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line()
+ facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line()
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
my_songs_notes_blocks %>% count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
new_time_blocks <- 10
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
new_time_blocks <- 20
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
new_time_blocks <- 50
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
new_time_blocks <- 100
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
my_songs_notes_blocks %>% count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
my_songs_notes_blocks %>% count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
my_songs_notes_blocks %>% count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line() +
facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line()
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, color =  name)) + geom_line()
, group = note,
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line()
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line()
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
count(name, note, time_block) %>%
ggplot(aes(time_block, n, group = note, color =  name)) + geom_line()
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
new_time_blocks <- 10
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
new_time_blocks <- 20
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
new_time_blocks <- 30
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
new_time_blocks <- 50
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
new_time_blocks <- 100
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
View(my_total_notes)
View(my_songs_lengths)
# Checking for tempo change
my_songs_notes_blocks %>% count(name, length, time_block) %>%
ggplot(aes(time_block, n, color = name)) + geom_point()
new_time_blocks <- 20
my_songs_notes_blocks <- my_songs_notes %>% inner_join(my_songs_lengths) %>%
mutate(time_block = floor(new_time_blocks * time / total_time))
my_songs_notes_blocks %>% group_by(name) %>% count(time_block) %>%
pivot_wider(names_from = name, values_from = n)
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
ggplot(aes(xmin = time, xmax = end_time, y = freq, color = channel)) +
geom_linerange()
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
my_songs_notes_blocks %>% filter(name == 'gurenge') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
# Normalizing / Analysis of note use over time
my_songs_notes_blocks %>% filter(name == 'unravel') %>%
add_count(name, time_block, name = 'notes_per_block') %>%
add_count(note, time_block) %>%
ggplot(aes(time_block, n / notes_per_block, group = note)) +
geom_line() + facet_wrap(~note)
# Checking for tempo change
my_songs_notes_blocks %>% count(name, length, time_block) %>%
ggplot(aes(time_block, n, color = name)) + geom_point()
# Checking for tempo change
my_songs_notes_blocks %>% count(name, length, time_block) %>%
ggplot(aes(time_block, n, color = name)) + geom_point()
my_songs <- bind_rows(mutate(bohemian, name = 'bohemian'),
mutate(gotoubun, name = 'gotoubun'))
library(tidyverse)
library(tabr)
library(tuneR)
my_songs <- bind_rows(mutate(bohemian, name = 'bohemian'),
mutate(gotoubun, name = 'gotoubun'))
bohemian <- read_midi('Queen - "Bohemian Rhapsody".midi')
gotoubun <- read_midi('gotoubun_no_kimochi.midi')
bohemian <- read_midi('Queen - "Bohemian Rhapsody".midi')
bohemian <- read_midi('Queen - "Bohemian Rhapsody.midi')
bohemian <- read_midi('Queen - Bohemian Rhapsody.midi')
my_songs <- bind_rows(mutate(bohemian, name = 'bohemian'),
mutate(gotoubun, name = 'gotoubun'))
# Explorative Analysis
my_songs %>% group_by(name) %>% count(event) %>%
pivot_wider(names_from = name, values_from = n)
my_songs %>% group_by(name) %>% count(channel) %>%
pivot_wider(names_from = name, values_from = n)
my_songs %>% group_by(name) %>% count(track) %>%
pivot_wider(names_from = name, values_from = n)
my_songs %>% group_by(name) %>% count(velocity) %>%
pivot_wider(names_from = name, values_from = n)
my_songs %>% group_by(name) %>% count(type) %>%
pivot_wider(names_from = name, values_from = n)
# Note length distribution analysis
my_songs %>% group_by(name) %>% ggplot(aes(x = name, y = length)) +
geom_boxplot()
# Explorative Analysis
my_songs %>% group_by(name) %>% count(event) %>%
pivot_wider(names_from = name, values_from = n)
my_songs %>% group_by(name) %>% count(channel) %>%
pivot_wider(names_from = name, values_from = n)
my_songs %>% group_by(name) %>% count(track) %>%
pivot_wider(names_from = name, values_from = n)
my_songs %>% group_by(name) %>% count(velocity) %>%
pivot_wider(names_from = name, values_from = n)
my_songs %>% group_by(name) %>% count(type) %>%
pivot_wider(names_from = name, values_from = n)
# Note length distribution analysis
my_songs %>% group_by(name) %>% ggplot(aes(x = name, y = length)) +
geom_boxplot()
my_songs_notes <- my_songs %>% filter(!is.na(pitch)) %>%
mutate(as_music_df(pitch),
end_time = time + length)
